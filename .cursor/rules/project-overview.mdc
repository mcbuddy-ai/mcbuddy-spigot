---
alwaysApply: true
---

# MCBuddy Spigot - Project Overview üí¨

## Project Information
- **Full Name**: MCBuddy Spigot
- **Short Name**: mcbuddy-spigot
- **Description**: Spigot-–ø–ª–∞–≥–∏–Ω –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ MCBuddy ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã `/ask` –∏ `/askx` –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É –ø—Ä—è–º–æ –≤ —á–∞—Ç–µ Minecraft —Å–µ—Ä–≤–µ—Ä–∞! üéÆ

## Technical Specifications
- **Kotlin Version**: 2.2.0+
- **Java Version**: 21+
- **Spigot API**: 1.21.4+
- **Main Class**: ru.mcbuddy.spigot.Zygote
- **Architecture**: Modular Kotlin application with coroutines support

## Technology Stack
- **Language**: Kotlin
- **Platform**: Spigot API 1.21+
- **HTTP Client**: OkHttp 4.12.0
- **Serialization**: kotlinx-serialization-json
- **Async**: kotlinx-coroutines-core
- **Build System**: Gradle with Kotlin DSL
- **Packaging**: Shadow JAR plugin

## Core Features
- **Command /ask** ‚Äî –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É MCBuddy –æ Minecraft
- **Command /askx** ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã Minecraft —á–µ—Ä–µ–∑ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥)
- **Command /ask reload** ‚Äî –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–ª–∞–≥–∏–Ω–∞
- **Action Bar Animations** ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–∞ "–¥—É–º–∞–µ—Ç" —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ –Ω–∞–¥ —Ö–æ—Ç–±–∞—Ä–æ–º
- **Particle Effects** ‚Äî –º–∞–≥–∏—á–µ—Å–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤–æ–∫—Ä—É–≥ –≥–æ–ª–æ–≤—ã –∏–≥—Ä–æ–∫–∞ –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
- **Sound Effects** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞—á–∞–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏, —É—Å–ø–µ—Ö–µ –∏ –æ—à–∏–±–∫–∞—Ö
- **Security** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ `/askx`

## Integrations
- **MCBuddy Server API** ‚Äî HTTP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è AI-–æ—Ç–≤–µ—Ç–æ–≤
- **Spigot API** ‚Äî –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Minecraft —Å–µ—Ä–≤–µ—Ä–æ–º
- **OpenRouter** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ X-OpenRouter-Token

## Core Components
- **Zygote**: Plugin entry point and lifecycle management
- **Handler**: Centralized command processing with validation
- **Service**: HTTP integration with MCBuddy Server API
- **Config**: Type-safe YAML configuration loading
- **Animator**: Action Bar animations and particle effects
- **Executor**: Command execution for /askx feature
- **HttpClient**: HTTP client with configuration
- **Minecraft**: Message formatting utilities

## Key Entry Points
- **Main Class**: [src/main/kotlin/ru/mcbuddy/spigot/Zygote.kt](mdc:src/main/kotlin/ru/mcbuddy/spigot/Zygote.kt)
- **Command Handler**: [src/main/kotlin/ru/mcbuddy/spigot/Handler.kt](mdc:src/main/kotlin/ru/mcbuddy/spigot/Handler.kt)
- **API Service**: [src/main/kotlin/ru/mcbuddy/spigot/Service.kt](mdc:src/main/kotlin/ru/mcbuddy/spigot/Service.kt)
- **Configuration**: [src/main/kotlin/ru/mcbuddy/spigot/Config.kt](mdc:src/main/kotlin/ru/mcbuddy/spigot/Config.kt)
- **Plugin YAML**: [src/main/resources/plugin.yml](mdc:src/main/resources/plugin.yml)

## Architectural Principles
- **Pattern**: Component-based architecture with clear responsibilities
- **Structure**: Organized by component functionality
- **Type Safety**: Strong Kotlin typing throughout
- **Async**: Coroutines for non-blocking operations
- **Configuration**: YAML-based configuration with validation
- **Error Handling**: Centralized error handling with user-friendly messages
- **Security**: Command blacklist for /askx to prevent server damage
